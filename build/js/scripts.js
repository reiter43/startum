"use strict";var burger=document.querySelector(".burger"),nav=document.querySelector(".nav"),bod=document.querySelector("body");burger.addEventListener("click",function(e){e.preventDefault,burger.classList.contains("burger--active")?(burger.classList.remove("burger--active"),document.querySelector("header").style.position="relative",nav.classList.remove("nav--active")):(burger.classList.add("burger--active"),document.querySelector("header").style.position="static",nav.classList.add("nav--active"))}),window.addEventListener("resize",function(){var t=document.documentElement.clientWidth,n=document.querySelectorAll(".programItem");n.forEach(function(e){t<1920&&1200<t?(e.classList.remove("programItem--button"),n[3].classList.add("programItem--button")):t<1200&&996<t?(e.classList.remove("programItem--button"),n[2].classList.add("programItem--button")):t<996&&576<t?(e.classList.remove("programItem--button"),n[1].classList.add("programItem--button")):e.classList.remove("programItem--button")})},!1);var btnVideo=document.querySelectorAll(".btnVideoSlider__wrapper");function filter(e,r,a,o){var c=document.querySelectorAll(e);c&&c.forEach(function(n){function t(){c.forEach(function(e){e.classList.remove(o),event.target.classList.add(o)});var e=document.querySelectorAll(r),t=n.getAttribute(a);e.forEach(function(e){e.classList.add("modal--hide"),"all"===t&&e.classList.remove("modal--hide"),e.classList.contains(t)&&e.classList.remove("modal--hide")})}n.addEventListener("click",t),"button"!=n.tagName&&n.addEventListener("keydown",function(e){13!=e.keyCode&&32!=e.keyCode||t()})})}btnVideo.forEach(function(e){e.onclick=function(){e.parentNode.innerHTML='<iframe width="560" height="315" src="https://www.youtube.com/embed/lTKr_Sb4xq4" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'}}),filter(".faq__quest > p",".faq__answer > div","data-answer","active"),filter(".mainArticles__cat button",".metodsItem--article","data-cat","active");var centers=document.querySelectorAll(".listCenter ul li button");function sticky(n,r){window.onscroll=function(){var e=window.pageYOffset||document.documentElement.scrollTop,t=document.querySelector(n);r<e?t.classList.add("sticky"):t.classList.remove("sticky")}}centers.forEach(function(r){r.onclick=function(t){t.preventDefault(),document.querySelector(".mapContacts p").classList.add("hide"),centers.forEach(function(e){e.classList.remove("active"),t.target.classList.add("active")});var e=document.querySelectorAll(".mapContacts iframe"),n=r.getAttribute("data-center");e.forEach(function(e){e.classList.add("hide"),e.classList.contains(n)&&(e.src=e.getAttribute("data-map"),e.classList.remove("hide"))})}}),window.addEventListener("DOMContentLoaded",function(){[].forEach.call(document.querySelectorAll(".form__phone"),function(e){var i;function t(e){e.keyCode&&(i=e.keyCode),this.selectionStart<3&&e.preventDefault();var t="+7 (___) ___ ____",n=0,r=t.replace(/\D/g,""),a=this.value.replace(/\D/g,""),o=t.replace(/[_\d]/g,function(e){return n<a.length?a.charAt(n++)||r.charAt(n):e});-1!=(n=o.indexOf("_"))&&(n<5&&(n=3),o=o.slice(0,n));var c=t.substr(0,this.value.length).replace(/_+/g,function(e){return"\\d{1,"+e.length+"}"}).replace(/[+()]/g,"\\$&");(!(c=new RegExp("^"+c+"$")).test(this.value)||this.value.length<5||47<i&&i<58)&&(this.value=o),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",t,!1),e.addEventListener("focus",t,!1),e.addEventListener("blur",t,!1),e.addEventListener("keydown",t,!1)})}),"/smartumStat/"!=window.location.pathname&&"/index.html"!=window.location.pathname&&"/"!=window.location.pathname&&"/build/"!=window.location.pathname||sticky(".topLine--home",140);var anchors=document.querySelectorAll(".topLine nav a[href*=anchor]"),speed=.3;anchors.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var a=window.pageYOffset,o=this.hash,c=document.querySelector(o).getBoundingClientRect().top,i=null;requestAnimationFrame(function e(t){null===i&&(i=t);var n=t-i;var r=c<0?Math.max(a-n/speed,a+c):Math.min(a+n/speed,a+c);window.scrollTo(0,r);r!=a+c?requestAnimationFrame(e):location.hash=o})})});var itemsMenu=document.querySelectorAll(".topLine nav ul li a");itemsMenu.forEach(function(e){e.onclick=function(t){t.preventDefault,itemsMenu.forEach(function(e){e.classList.remove("active"),t.target.classList.add("active")})}});var inputs=document.querySelectorAll(".form__file");Array.prototype.forEach.call(inputs,function(t){var n=t.nextElementSibling;t.addEventListener("change",function(e){n.querySelector(".labelFile span").innerHTML="Прикреплен файл: "+t.value})});var forms=document.querySelectorAll(".formAll");forms.forEach(function(r){r.onsubmit=function(e){e.preventDefault();var t=new FormData(r),n=new XMLHttpRequest;n.open("POST","mail.php"),n.send(t),n.onreadystatechange=function(){4==this.readyState&&200==this.status&&(r.reset(),document.querySelector("#thanks").classList.remove("mfp-hide"),document.querySelector("#closeModal").onclick=function(){document.querySelector("#thanks").classList.add("mfp-hide")})}}});var city=document.querySelectorAll(".modalCity__content a");city.forEach(function(t){t.onclick=function(e){e.preventDefault(),document.querySelector(".topLine__btn span").innerText=t.innerText,document.querySelector(".centers > p").innerText="Пройдите 3D-тур по центру в г. "+t.innerText,document.querySelector("#ci").classList.add("mfp-hide")}});var btnVi=document.querySelectorAll(".btnVideo__wrapperCenters");btnVi.forEach(function(t){t.onclick=function(e){t.parentNode.innerHTML='<iframe width="560" height="315" src="https://www.youtube.com/embed/XClbPtMlQVo"  allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'}});