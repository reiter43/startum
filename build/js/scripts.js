"use strict";window.addEventListener("DOMContentLoaded",function(){var t=document.querySelector(".burger"),n=document.querySelector(".nav");document.querySelector("body");function e(e,r,o,a){var c=document.querySelectorAll(e);c&&c.forEach(function(n){function t(){event.preventDefault(),c.forEach(function(e){e.classList.remove(a),event.target.classList.add(a)});var e=document.querySelectorAll(r),t=n.getAttribute(o);e.forEach(function(e){e.setAttribute("hidden","hidden"),"all"===t&&e.removeAttribute("hidden"),e.classList.contains(t)&&e.removeAttribute("hidden")})}n.addEventListener("click",t),"button"!=n.tagName&&n.addEventListener("keydown",function(e){13!=e.keyCode&&32!=e.keyCode||t()})})}t.addEventListener("click",function(e){e.preventDefault,t.classList.contains("burger--active")?(t.classList.remove("burger--active"),document.querySelector("header").style.position="relative",n.classList.remove("nav--active")):(t.classList.add("burger--active"),document.querySelector("header").style.position="static",n.classList.add("nav--active"))}),window.addEventListener("resize",function(){var t=document.documentElement.clientWidth,n=document.querySelectorAll(".programItem");n.forEach(function(e){t<1920&&1200<t?(e.classList.remove("programItem--button"),n[3].classList.add("programItem--button")):t<1200&&996<t?(e.classList.remove("programItem--button"),n[2].classList.add("programItem--button")):t<996&&576<t?(e.classList.remove("programItem--button"),n[1].classList.add("programItem--button")):e.classList.remove("programItem--button")})},!1),document.querySelectorAll(".btnVideoSlider__wrapper").forEach(function(e){e.onclick=function(){e.parentNode.innerHTML='<iframe width="560" height="315" src="https://www.youtube.com/embed/lTKr_Sb4xq4" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'}}),e(".faq__quest > li",".faq__answer > div","data-answer","active"),e(".mainArticles__cat button",".metodsItem--article","data-cat","active");var r,o,a=document.querySelectorAll(".listCenter ul li button");a&&a.forEach(function(r){r.addEventListener("click",function(t){document.querySelector(".mapContacts p").classList.add("hide"),a.forEach(function(e){e.classList.remove("active"),t.target.classList.add("active")});var e=document.querySelectorAll(".mapContacts iframe"),n=r.getAttribute("data-center");e.forEach(function(e){e.setAttribute("hidden","hidden"),e.classList.contains(n)&&(e.src=e.getAttribute("data-map"),e.removeAttribute("hidden"))})})}),[].forEach.call(document.querySelectorAll(".form__phone"),function(e){var i;function t(e){e.keyCode&&(i=e.keyCode),this.selectionStart<3&&e.preventDefault();var t="+7 (___) ___ ____",n=0,r=t.replace(/\D/g,""),o=this.value.replace(/\D/g,""),a=t.replace(/[_\d]/g,function(e){return n<o.length?o.charAt(n++)||r.charAt(n):e});-1!=(n=a.indexOf("_"))&&(n<5&&(n=3),a=a.slice(0,n));var c=t.substr(0,this.value.length).replace(/_+/g,function(e){return"\\d{1,"+e.length+"}"}).replace(/[+()]/g,"\\$&");(!(c=new RegExp("^"+c+"$")).test(this.value)||this.value.length<5||47<i&&i<58)&&(this.value=a),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",t,!1),e.addEventListener("focus",t,!1),e.addEventListener("blur",t,!1),e.addEventListener("keydown",t,!1)}),"/smartumStat/"!=window.location.pathname&&"/index.html"!=window.location.pathname&&"/"!=window.location.pathname&&"/build/"!=window.location.pathname||(r=".topLine--home",o=140,window.onscroll=function(){var e=window.pageYOffset||document.documentElement.scrollTop,t=document.querySelector(r);o<e?t.classList.add("sticky"):t.classList.remove("sticky")});var c=document.querySelectorAll(".topLine nav a[href*=anchor]");c.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var o=window.pageYOffset,a=this.hash,c=document.querySelector(a).getBoundingClientRect().top,i=null;requestAnimationFrame(function e(t){null===i&&(i=t);var n=t-i;var r=c<0?Math.max(o-n/.3,o+c):Math.min(o+n/.3,o+c);window.scrollTo(0,r);r!=o+c?requestAnimationFrame(e):location.hash=a})})});var i=document.querySelectorAll(".topLine nav ul li a");i.forEach(function(e){e.onclick=function(t){t.preventDefault,i.forEach(function(e){e.classList.remove("active"),t.target.classList.add("active")})}});var l=document.querySelectorAll(".form__file");Array.prototype.forEach.call(l,function(t){var n=t.nextElementSibling;t.addEventListener("change",function(e){n.querySelector(".labelFile span").innerHTML="Прикреплен файл: "+t.value})}),document.querySelectorAll(".formAll").forEach(function(r){r.onsubmit=function(e){e.preventDefault();var t=new FormData(r),n=new XMLHttpRequest;n.open("POST","mail.php"),n.send(t),n.onreadystatechange=function(){4==this.readyState&&200==this.status&&(r.reset(),document.querySelector("#thanks").classList.remove("mfp-hide"),document.querySelector("#closeModal").onclick=function(){document.querySelector("#thanks").classList.add("mfp-hide")})}}}),document.querySelectorAll(".modalCity__content a").forEach(function(t){t.onclick=function(e){e.preventDefault(),document.querySelector(".topLine__btn span").innerText=t.innerText,document.querySelector(".centers > p").innerText="Пройдите 3D-тур по центру в г. "+t.innerText,document.querySelector("#ci").classList.add("mfp-hide")}}),document.querySelectorAll(".btnVideo__wrapperCenters").forEach(function(t){t.onclick=function(e){t.parentNode.innerHTML='<iframe width="560" height="315" src="https://www.youtube.com/embed/XClbPtMlQVo"  allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'}})});